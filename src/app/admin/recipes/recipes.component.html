<section class="page-header">
  <div class="container">
    <div class="row align-items-center ">
      <div class="col-9">
        <h3>Recipes <span>Item</span></h3>
        <p>You can now add your items that any user can order it from the Application and you can edit</p>
      </div>
      <div class="col-3">
        <div class="text-end">
          <img src="../../../assets/images/menu-avatar.svg" class="w-75" alt="">
        </div>
      </div>
    </div>
  </div>
</section>

<section>

  <div class="container py-4">


    <div class="row">
      <div class="col-md-6">
        <input [(ngModel)]="searchValue" (keyup)="getTableData()" type="text" class="form-control"
          placeholder="Search here">
      </div>
      <div class="col-md-3">
        <select [(ngModel)]="tagId" (change)="getTableData()" class="form-select" aria-label="Default select example">
          <option selected>All</option>
          <option *ngFor="let item of tags" [value]="item.id">{{item.name}}</option>

        </select>
      </div>
      <div class="col-md-3">
        <button [routerLink]="['/dashboard/admin/recipes/add']" routerLinkActive="router-link-active"
          class="primary">Add
          New Recipe</button>
      </div>
    </div>

    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Image</th>
          <th>Price</th>
          <th>Descrption</th>
          <th>Tag</th>
          <th>Category</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody *ngIf="tableData.length>0">
        <tr *ngFor="let item of tableData">
          <td>{{item.name}}</td>
          <td class="w-25"> <img [src]="'https://upskilling-egypt.com/'+item.imagePath " class="w-50" alt=""></td>
          <td>{{item.price}}</td>
          <td>{{item.description}}</td>
          <td>{{item.tag.name}}</td>
          <td>
            <ng-container *ngIf="item.category.length>0">

              <span *ngFor="let itemCategory of item.category">{{itemCategory.name}} </span>
            </ng-container>
            <span *ngIf="item.category.length==0">
              No Category</span>


          </td>
          <td class="text-center">
            <div class="dropdown">
              <a class="dropdown-toggle text-muted" href="#" role="button" id="dropdownMenuLink"
                data-bs-toggle="dropdown" aria-expanded="false">
                <i class="fa-solid fa-ellipsis fa-2x"></i>
              </a>

              <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                <li><a class="dropdown-item">

                    <span><i class="fa-solid fa-pen-to-square"></i></span>
                    <span>View</span>
                  </a></li>
                <li>
                  <a [routerLink]="['/dashboard/admin/recipes/edit',item.id]" class="dropdown-item">

                    <span><i class="fa-solid fa-pen-to-square"></i></span>
                    <span>Edit</span>
                  </a>
                </li>
                <li><a class="dropdown-item">
                    <span><i class="fa-solid fa-pen-to-square"></i></span>
                    <span>Delete</span>
                  </a></li>

              </ul>
            </div>
          </td>
        </tr>
      </tbody>

      <div *ngIf="tableData.length==0">
        No Data
      </div>


    </table>

  </div>
</section>